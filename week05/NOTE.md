# 第五周内容: http 协议，浏览器基础

## 如何用net，而非http的库

## http rfc2616

https://tools.ietf.org/html/rfc2616

http 1.1

- requestline: method,path,protocol version
- headers
- request body

## 本周小的总结

这种内容主要分为几个部分:

- 介绍了http/tcp/ip 的一些及其精简的知识。
- 通过展示cs架构，使用node的 http/net库，构建了一个基础版本的cs代码版本。
- 初步构建了parser的原型，包含headerparser跟bodyparser两者。

### 出错的地方

- 对js之中字符串的使用方式(模板的表达方式)不熟悉，导致写代码时候出现一些问题，反复查看视频才搞清楚什么问题。

### 心得

在client 跟server之间建立的信息通道，connection，通过流式信息的传递方式，在cs之间进行通讯。之前只是从书本模糊的有个印象，但是并没有深入细节去体会。借助这一模块的学习，对服务器跟客户端之间的通讯有了更多的理解。

联想到，在cb架构之中，将client 跟blockchain进行通讯的方式，实际上也可以通过类似的学习思路去理解一下，搞清楚客户端跟区块链之间进行通讯的方式，将blockchain作为服务端，服务是如何响应的。之前所深度跟进过的一个项目 liquidApps，借助于中间层 DAPP Network 的方式实现了扩展性，其中的技术细节也可以继续去跟进，大同小异。

### 代码的基础逻辑

1. 客户端构建请求
2. 客户端发起请求
3. 服务端通过connection，收到来自客户端的请求；
4. 服务端返回response，返回响应；
5. 客户端接收到response，以流信息的方式返回的字符，然后进行解析；
6. 客户端将解析之后的结果呈现在屏幕上。

至于 html的架构，css的渲染，js的动作设定等，都通过客户端的解析与信息加工，返回给屏幕上呈现给用户。

### 需要进一步学习的地方

计算机网络协议和架构的基础知识有待补全，对于不同的网络协议之间认知太少，缺乏对应的心智模型，也因此在跟进cs这块代码时候理解起来存在难度。

状态机的基础知识。在解析服务器端返回信息的时候，客户端/浏览器需要通过构建好的状态机进行解析，并组装相应内容。对状态机的理解和熟练应用，有待加强。

nodejs并没有用过时间去理解，而在许多的现代应用中，nodejs以及一些借助于nodejs封装好的库和框架，还是挺常见的，也因此，有必要花费些时间去了解基础。

## 小结

第五周上课时并没有及时跟上进度，在本周第六周花费了一些时间去回顾跟追赶课程进度。还好逐渐能跟得上当前进度了。

Winter 的讲课风格比较硬核，在代码实现的部分，需要自己多关注的是整体的架构，当然，这部分在开篇时候其实是讲过了，不过，更多的是在宏观层面上。在中观层，即比具体代码实现稍微搞一个抽象层级的这一层，还是需要自己在跟进课程时候有个整体概念，这样理解起来具体的代码更容易。

浏览器跟cs架构不是一个简单的话题，在这个模块尽管Winter老师已经尽力去从一个最小可能的框架跟路径去走一遍，不过，若要深入理解，还是得自己去多做练习跟思考和实验，这部分知识很重要，而其实很少比例的前端程序员工具箱里能够放得下这把枪。

一辈子拉硬弓。

